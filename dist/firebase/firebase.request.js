"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _ = _interopRequireDefault(require("."));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var _default = (child, sort, parametr) => {
  let data;

  const getData = async child => {
    await _.default.ref().child(child).get().then(s => {
      if (s.exists()) {
        data = s.val();
      }
    }).catch(error => {
      console.error(error);
    });
  };

  if (sort === "all" || sort === undefined) {
    return getData(child).then(() => {
      return data;
    });
  } else if (sort === "filter" || sort === "f") {
    return getData(child).then(() => {
      return data.filter(({
        type
      }) => {
        return type === parametr;
      });
    });
  } else if (sort === "find") {
    return getData(child).then(() => {
      return data.find(({
        id
      }) => {
        return id === parametr;
      });
    });
  }

  ;
};

exports.default = _default;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy9maXJlYmFzZS9maXJlYmFzZS5yZXF1ZXN0LmpzIl0sIm5hbWVzIjpbImNoaWxkIiwic29ydCIsInBhcmFtZXRyIiwiZGF0YSIsImdldERhdGEiLCJkYXRhYmFzZSIsInJlZiIsImdldCIsInRoZW4iLCJzIiwiZXhpc3RzIiwidmFsIiwiY2F0Y2giLCJlcnJvciIsImNvbnNvbGUiLCJ1bmRlZmluZWQiLCJmaWx0ZXIiLCJ0eXBlIiwiZmluZCIsImlkIl0sIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQUE7Ozs7ZUFFZSxDQUFDQSxLQUFELEVBQVFDLElBQVIsRUFBY0MsUUFBZCxLQUEyQjtBQUN0QyxNQUFJQyxJQUFKOztBQUVBLFFBQU1DLE9BQU8sR0FBRyxNQUFPSixLQUFQLElBQWlCO0FBQzdCLFVBQU1LLFVBQVNDLEdBQVQsR0FBZU4sS0FBZixDQUFxQkEsS0FBckIsRUFBNEJPLEdBQTVCLEdBQ0xDLElBREssQ0FDQ0MsQ0FBRCxJQUFPO0FBQUUsVUFBS0EsQ0FBQyxDQUFDQyxNQUFGLEVBQUwsRUFBa0I7QUFBRVAsUUFBQUEsSUFBSSxHQUFHTSxDQUFDLENBQUNFLEdBQUYsRUFBUDtBQUFnQjtBQUFDLEtBRDlDLEVBRUxDLEtBRkssQ0FFRUMsS0FBRCxJQUFXO0FBQUVDLE1BQUFBLE9BQU8sQ0FBQ0QsS0FBUixDQUFjQSxLQUFkO0FBQXNCLEtBRnBDLENBQU47QUFHSCxHQUpEOztBQU1BLE1BQUdaLElBQUksS0FBSyxLQUFULElBQWtCQSxJQUFJLEtBQUtjLFNBQTlCLEVBQXlDO0FBQ3JDLFdBQU9YLE9BQU8sQ0FBQ0osS0FBRCxDQUFQLENBQWVRLElBQWYsQ0FBb0IsTUFBTTtBQUM3QixhQUFPTCxJQUFQO0FBQ0gsS0FGTSxDQUFQO0FBR0gsR0FKRCxNQUlPLElBQUdGLElBQUksS0FBSyxRQUFULElBQXFCQSxJQUFJLEtBQUssR0FBakMsRUFBc0M7QUFDekMsV0FBT0csT0FBTyxDQUFDSixLQUFELENBQVAsQ0FBZVEsSUFBZixDQUFvQixNQUFNO0FBQzdCLGFBQU9MLElBQUksQ0FBQ2EsTUFBTCxDQUFZLENBQUM7QUFBRUMsUUFBQUE7QUFBRixPQUFELEtBQWM7QUFDN0IsZUFBT0EsSUFBSSxLQUFLZixRQUFoQjtBQUNILE9BRk0sQ0FBUDtBQUdILEtBSk0sQ0FBUDtBQUtILEdBTk0sTUFNQSxJQUFHRCxJQUFJLEtBQUssTUFBWixFQUFvQjtBQUN2QixXQUFPRyxPQUFPLENBQUNKLEtBQUQsQ0FBUCxDQUFlUSxJQUFmLENBQW9CLE1BQU07QUFDN0IsYUFBT0wsSUFBSSxDQUFDZSxJQUFMLENBQVUsQ0FBQztBQUFFQyxRQUFBQTtBQUFGLE9BQUQsS0FBWTtBQUN6QixlQUFPQSxFQUFFLEtBQUtqQixRQUFkO0FBQ0gsT0FGTSxDQUFQO0FBR0gsS0FKTSxDQUFQO0FBS0g7O0FBQUE7QUFDSixDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGRhdGFiYXNlIGZyb20gXCIuXCI7XHJcblxyXG5leHBvcnQgZGVmYXVsdCAoY2hpbGQsIHNvcnQsIHBhcmFtZXRyKSA9PiB7XHJcbiAgICBsZXQgZGF0YTtcclxuXHJcbiAgICBjb25zdCBnZXREYXRhID0gYXN5bmMgKGNoaWxkKSA9PiB7XHJcbiAgICAgICAgYXdhaXQgZGF0YWJhc2UucmVmKCkuY2hpbGQoY2hpbGQpLmdldCgpXHJcbiAgICAgICAgLnRoZW4oKHMpID0+IHsgaWYgKCBzLmV4aXN0cygpICkgeyBkYXRhID0gcy52YWwoKSB9fSlcclxuICAgICAgICAuY2F0Y2goKGVycm9yKSA9PiB7IGNvbnNvbGUuZXJyb3IoZXJyb3IpIH0pO1xyXG4gICAgfTtcclxuXHJcbiAgICBpZihzb3J0ID09PSBcImFsbFwiIHx8IHNvcnQgPT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgIHJldHVybiBnZXREYXRhKGNoaWxkKS50aGVuKCgpID0+IHsgXHJcbiAgICAgICAgICAgIHJldHVybiBkYXRhIFxyXG4gICAgICAgIH0pO1xyXG4gICAgfSBlbHNlIGlmKHNvcnQgPT09IFwiZmlsdGVyXCIgfHwgc29ydCA9PT0gXCJmXCIpIHtcclxuICAgICAgICByZXR1cm4gZ2V0RGF0YShjaGlsZCkudGhlbigoKSA9PiB7IFxyXG4gICAgICAgICAgICByZXR1cm4gZGF0YS5maWx0ZXIoKHsgdHlwZSB9KSA9PiB7IFxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHR5cGUgPT09IHBhcmFtZXRyIFxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9KTtcclxuICAgIH0gZWxzZSBpZihzb3J0ID09PSBcImZpbmRcIikge1xyXG4gICAgICAgIHJldHVybiBnZXREYXRhKGNoaWxkKS50aGVuKCgpID0+IHsgXHJcbiAgICAgICAgICAgIHJldHVybiBkYXRhLmZpbmQoKHsgaWQgfSkgPT4geyBcclxuICAgICAgICAgICAgICAgIHJldHVybiBpZCA9PT0gcGFyYW1ldHJcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9O1xyXG59OyJdfQ==