"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _ = _interopRequireDefault(require("."));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var _default = (child, sort, parametr) => {
  if (sort === "all" || sort === undefined) {
    let data;

    const getData = async () => {
      await _.default.ref().child(child).get().then(s => {
        if (s.exists()) {
          data = s.val();
        }
      }).catch(error => {
        console.error(error);
      });
    };

    return getData().then(() => data);
  } else if (sort === "filter") {
    let data;

    const getData = async () => {
      await _.default.ref().child(child).get().then(s => {
        if (s.exists()) {
          data = s.val();
        }
      }).catch(error => {
        console.error(error);
      });
    };

    return getData().then(() => {
      return data.filter(p => {
        return p.type === parametr;
      });
    });
  }
};

exports.default = _default;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy9maXJlYmFzZS9maXJlYmFzZS5yZXF1ZXN0LmpzIl0sIm5hbWVzIjpbImNoaWxkIiwic29ydCIsInBhcmFtZXRyIiwidW5kZWZpbmVkIiwiZGF0YSIsImdldERhdGEiLCJkYXRhYmFzZSIsInJlZiIsImdldCIsInRoZW4iLCJzIiwiZXhpc3RzIiwidmFsIiwiY2F0Y2giLCJlcnJvciIsImNvbnNvbGUiLCJmaWx0ZXIiLCJwIiwidHlwZSJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBOzs7O2VBRWUsQ0FBQ0EsS0FBRCxFQUFRQyxJQUFSLEVBQWNDLFFBQWQsS0FBMkI7QUFDdEMsTUFBR0QsSUFBSSxLQUFLLEtBQVQsSUFBa0JBLElBQUksS0FBS0UsU0FBOUIsRUFBeUM7QUFDckMsUUFBSUMsSUFBSjs7QUFDQSxVQUFNQyxPQUFPLEdBQUcsWUFBWTtBQUN4QixZQUFNQyxVQUFTQyxHQUFULEdBQWVQLEtBQWYsQ0FBcUJBLEtBQXJCLEVBQTRCUSxHQUE1QixHQUNMQyxJQURLLENBQ0NDLENBQUQsSUFBTztBQUFFLFlBQUtBLENBQUMsQ0FBQ0MsTUFBRixFQUFMLEVBQWtCO0FBQUVQLFVBQUFBLElBQUksR0FBR00sQ0FBQyxDQUFDRSxHQUFGLEVBQVA7QUFBZ0I7QUFBQyxPQUQ5QyxFQUVMQyxLQUZLLENBRUVDLEtBQUQsSUFBVztBQUFFQyxRQUFBQSxPQUFPLENBQUNELEtBQVIsQ0FBY0EsS0FBZDtBQUFzQixPQUZwQyxDQUFOO0FBR0gsS0FKRDs7QUFNQSxXQUFPVCxPQUFPLEdBQUdJLElBQVYsQ0FBZ0IsTUFBTUwsSUFBdEIsQ0FBUDtBQUNILEdBVEQsTUFTTyxJQUFHSCxJQUFJLEtBQUssUUFBWixFQUFzQjtBQUN6QixRQUFJRyxJQUFKOztBQUNBLFVBQU1DLE9BQU8sR0FBRyxZQUFZO0FBQ3hCLFlBQU1DLFVBQVNDLEdBQVQsR0FDTFAsS0FESyxDQUNDQSxLQURELEVBQ1FRLEdBRFIsR0FFTEMsSUFGSyxDQUVDQyxDQUFELElBQU87QUFBRSxZQUFLQSxDQUFDLENBQUNDLE1BQUYsRUFBTCxFQUFrQjtBQUFFUCxVQUFBQSxJQUFJLEdBQUdNLENBQUMsQ0FBQ0UsR0FBRixFQUFQO0FBQWdCO0FBQUMsT0FGOUMsRUFHTEMsS0FISyxDQUdFQyxLQUFELElBQVc7QUFBRUMsUUFBQUEsT0FBTyxDQUFDRCxLQUFSLENBQWNBLEtBQWQ7QUFBc0IsT0FIcEMsQ0FBTjtBQUlILEtBTEQ7O0FBT0EsV0FBT1QsT0FBTyxHQUFHSSxJQUFWLENBQWUsTUFBTTtBQUN4QixhQUFPTCxJQUFJLENBQUNZLE1BQUwsQ0FBYUMsQ0FBRCxJQUFPO0FBQUUsZUFBT0EsQ0FBQyxDQUFDQyxJQUFGLEtBQVdoQixRQUFsQjtBQUE0QixPQUFqRCxDQUFQO0FBQ0gsS0FGTSxDQUFQO0FBR0g7QUFDSixDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGRhdGFiYXNlIGZyb20gXCIuXCI7XHJcblxyXG5leHBvcnQgZGVmYXVsdCAoY2hpbGQsIHNvcnQsIHBhcmFtZXRyKSA9PiB7XHJcbiAgICBpZihzb3J0ID09PSBcImFsbFwiIHx8IHNvcnQgPT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgIGxldCBkYXRhO1xyXG4gICAgICAgIGNvbnN0IGdldERhdGEgPSBhc3luYyAoKSA9PiB7XHJcbiAgICAgICAgICAgIGF3YWl0IGRhdGFiYXNlLnJlZigpLmNoaWxkKGNoaWxkKS5nZXQoKVxyXG4gICAgICAgICAgICAudGhlbigocykgPT4geyBpZiAoIHMuZXhpc3RzKCkgKSB7IGRhdGEgPSBzLnZhbCgpIH19KVxyXG4gICAgICAgICAgICAuY2F0Y2goKGVycm9yKSA9PiB7IGNvbnNvbGUuZXJyb3IoZXJyb3IpIH0pO1xyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIHJldHVybiBnZXREYXRhKCkudGhlbiggKCkgPT4gZGF0YSApO1xyXG4gICAgfSBlbHNlIGlmKHNvcnQgPT09IFwiZmlsdGVyXCIpIHtcclxuICAgICAgICBsZXQgZGF0YTtcclxuICAgICAgICBjb25zdCBnZXREYXRhID0gYXN5bmMgKCkgPT4ge1xyXG4gICAgICAgICAgICBhd2FpdCBkYXRhYmFzZS5yZWYoKVxyXG4gICAgICAgICAgICAuY2hpbGQoY2hpbGQpLmdldCgpXHJcbiAgICAgICAgICAgIC50aGVuKChzKSA9PiB7IGlmICggcy5leGlzdHMoKSApIHsgZGF0YSA9IHMudmFsKCkgfX0pXHJcbiAgICAgICAgICAgIC5jYXRjaCgoZXJyb3IpID0+IHsgY29uc29sZS5lcnJvcihlcnJvcikgfSk7XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgcmV0dXJuIGdldERhdGEoKS50aGVuKCgpID0+IHsgXHJcbiAgICAgICAgICAgIHJldHVybiBkYXRhLmZpbHRlcigocCkgPT4geyByZXR1cm4gcC50eXBlID09PSBwYXJhbWV0ciB9KTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxufSJdfQ==